/**
 * active-links.js
 * High-performance active class toggling for modern browsers.
 *
 * @copyright 2025 Michael Welter <me@mikinho.com>
 * @license MIT
 * @version 1.0.7
 */
!function(){"use strict";const t={version:"1.0.7",ancestorClass:"is-ancestor",activeClass:"is-active",ignoredParams:["utm_source","utm_medium","utm_campaign","fbclid","gclid","ref"]};function e(t){return t.length>1&&t.endsWith("/")?t.slice(0,-1):t}function n(n){try{const s=new URL(n,window.location.origin);if(s.pathname=e(s.pathname),s.search){const e=s.searchParams;for(let n=0;n<t.ignoredParams.length;++n)e.delete(t.ignoredParams[n]);e.sort()}return s.href}catch(t){return n}}function s(){!function(){const e=`.${t.activeClass}, .${t.ancestorClass}`,n=document.querySelectorAll(e);for(let e=0;e<n.length;++e)n[e].classList.remove(t.activeClass,t.ancestorClass)}();const s=window.location,o=s.origin,a=n(s.href),i=document.links;for(let s=0,c=i.length;s<c;++s){const c=i[s];if("http:"!==c.protocol&&"https:"!==c.protocol)continue;if(c.origin!==o)continue;let r;if(c.search)r=n(c.href);else{const t=e(c.pathname);r=c.origin+t+c.hash}r.length>o.length+1&&a.startsWith(r)&&c.classList.add(t.ancestorClass),a===r&&c.classList.add(t.activeClass)}}!function(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s(),window.addEventListener("popstate",s);const t=history.pushState;history.pushState=function(){t.apply(this,arguments),setTimeout(s,0)};const e=history.replaceState;history.replaceState=function(){e.apply(this,arguments),setTimeout(s,0)}}()}();